<meta itemprop="itemid" content="urn:uuid:472b7fe6-d06b-428d-91c0-e931e953b421">
<meta itemprop="dt-published" content="2024-09-20T11:31:21Z">
<meta itemprop="p-category" content="CSS,Website Meta,Soupault SSG,PESOS">

  
    <h1>
      How I use <code>:has()</code> selector to add table of contents
    </h1>
    
  

  <p class="e-summary">
    I show off a static site gen soupault, and my solution to add table of
    contents using CSS selectors
  </p>

  <div class="e-content">
    <p>
      Copy-pasting my comment in a converstion on lobste.rs titled
      <a href="https://lobste.rs/s/gery1i/undeniable_utility_css_has#c_unpyso"
        >The Undeniable Utility Of CSS :has</a
      >:
    </p>

    <p>
      My most recent favourite use of <code>:has</code> was to target insertion
      of a table of contents (TOC) on pages of my website.
    </p>

    <p>
      Assuming the following configuration for the static site generator I use
      (<a href="https://soupault.app">soupault</a>):
    </p>

    <pre><code>[widgets.table-of-contents]
selector = "hgroup:has(h1)"
action = "insert_after"</code></pre>

    <p>
      the <code>:has</code> selector instructs soupault to only insert TOC in
      those pages which have an <code>h1</code> heading, and to insert it right
      after the first <code>hgroup</code> of the page, so that the TOC is
      located right after the heading + subtitle + timestamp + tags combo.
    </p>

    <p>
      <code>:has</code> is a selector best used judiciously though due to
      performance concerns. Firefox (and presumably other browsers) help by
      displaying a tortoise symbol to flag an unconstrained
      <code>:has</code> selector.
    </p>
  </div>

